{% extends 'base.html' %}
{% load static %}
{% block content %}
<h1 style="text-align: left;">리뷰 게시판</h1>

<ol id="post-list">
</ol>

<script>
    const category = "{{ category }}";
    axios.get(`{% url 'post:post_list' category=category %}`)
        .then(response => {
            const posts = response.data;
            const postList = document.getElementById('post-list');
            
            // 만약 데이터가 배열이 아니라면 배열로 변환
            const postsArray = posts.results;
            console.log(postsArray);
            
            postsArray.forEach(post => {
                const listItem = document.createElement('li');
                const link = document.createElement('a');
                link.href = `/post/${post.id}/`;
                link.textContent = post.title; // 게시물 제목을 여기에 넣기
                listItem.appendChild(link);
                postList.appendChild(listItem);
            });
        })
        .catch(error => {
            console.error('게시물을 불러오는 중 오류가 발생했습니다:', error);
        });
</script>
{% endblock content %}