{% extends 'base.html' %}
{% load static %}
{% block content %}
<h1 style="text-align: left;">정보 게시판</h1>

<ol id="post-list">
</ol>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
    axios.get('http://127.0.0.1:8000/api/post/')
        .then(response => {
            const posts = response.data;
            const postList = document.getElementById('post-list');
            
            // 만약 데이터가 배열이 아니라면 배열로 변환
            const postsArray = posts.results;
            console.log(postsArray);
            
            postsArray.forEach(post => {
                const listItem = document.createElement('li');
                const link = document.createElement('a');
                link.href = `/post/${post.id}/`; // 실제 경로에 맞게 수정
                link.textContent = post.title; // 게시물 제목을 여기에 넣기
                listItem.appendChild(link);
                postList.appendChild(listItem);
            });
        })
        .catch(error => {
            console.error('게시물을 불러오는 중 오류가 발생했습니다:', error);
        });
</script>
{% endblock content %}